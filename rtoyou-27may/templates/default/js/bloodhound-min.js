var Bloodhound=(function(){var c;c=window&&window.Bloodhound;function g(n){n=oParser(n);this.sorter=n.sorter;this.identify=n.identify;this.sufficient=n.sufficient;this.local=n.local;this.remote=n.remote?new Remote(n.remote):null;this.prefetch=n.prefetch?new Prefetch(n.prefetch):null;this.index=new SearchIndex({identify:this.identify,datumTokenizer:n.datumTokenizer,queryTokenizer:n.queryTokenizer});n.initialize!==false&&this.initialize()}g.noConflict=function f(){window&&(window.Bloodhound=c);return g};g.tokenizers=tokenizers;_.mixin(g.prototype,{__ttAdapter:function h(){var p=this;return this.remote?o:n;function o(s,r,q){return p.search(s,r,q)}function n(r,q){return p.search(r,q)}},_loadPrefetch:function a(){var p=this,o,q;o=$.Deferred();if(!this.prefetch){o.resolve()}else{if(q=this.prefetch.fromCache()){this.index.bootstrap(q);o.resolve()}else{this.prefetch.fromNetwork(n)}}return o.promise();function n(r,s){if(r){return o.reject()}p.add(s);p.prefetch.store(p.index.serialize());o.resolve()}},_initialize:function d(){var p=this,n;this.clear();(this.initPromise=this._loadPrefetch()).done(o);return this.initPromise;function o(){p.add(p.local)}},initialize:function d(n){return !this.initPromise||n?this._initialize():this.initPromise},add:function l(n){this.index.add(n);return this},get:function b(n){n=_.isArray(n)?n:[].slice.call(arguments);return this.index.get(n)},search:function m(r,q,o){var p=this,n;n=this.sorter(this.index.search(r));q(this.remote?n.slice():n);if(this.remote&&n.length<this.sufficient){this.remote.get(r,s)}else{if(this.remote){this.remote.cancelLastRequest()}}return this;function s(u){var t=[];_.each(u,function(v){!_.some(n,function(w){return p.identify(v)===p.identify(w)})&&t.push(v)});o&&o(t)}},all:function i(){return this.index.all()},clear:function e(){this.index.reset();return this},clearPrefetchCache:function k(){this.prefetch&&this.prefetch.clear();return this},clearRemoteCache:function j(){Transport.resetCache();return this},ttAdapter:function h(){return this.__ttAdapter()}});return g})();