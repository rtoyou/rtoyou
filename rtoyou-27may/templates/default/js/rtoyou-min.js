$(function(){$(".skip-contest").click(function(){window.location.href="contest/skip"});$(".participate-contest").click(function(){if($(this).data("loginstate")==1){window.location.href="contest/participate"}else{setCookie("participate","1");setCookie("cid",$(".contestLink").data("targetid"));$("button[data-dismiss='modal'].close").trigger("click");showMessage("You have to login to participate in this contest.","danger")}});$("#post-review").submit(function(a){if(($("#review_on").val().length==0||$("#review_on").val().length<=3)&&$("#from_Selected").val().length==0){a.preventDefault();$(".twitter-typeahead").addClass("has-error");$(".twitter-typeahead").focus();return}else{if($("#review").val().trim().length==0||$("#review").val().length>5000||$("#review").val().trim().split(" ").length<10){$(".twitter-typeahead").removeClass("has-error");a.preventDefault();$(".review-text").parent().addClass("has-error");$(".review-text").focus();return}else{$(".review-text").parent().removeClass("has-error")}}$(this).append('<input type="hidden" name="images-mul" value="'+escape(JSON.stringify(jsonImages))+'"/>')});$(".submit-contact").click(function(){var c=true;if($("#name").val().length==0){$("#name").parent().addClass("has-error");$("#name").focus();c=false}else{$("#name").parent().removeClass("has-error")}if($("#email").val().length==0){$("#email").parent().addClass("has-error");$("#email").focus();c=false}else{var b=/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/;if(b.test($("#email").val())==false){$("#email").parent().addClass("has-error");$("#email").focus();c=false}else{$("#email").parent().removeClass("has-error")}}if($("#message").val().length==0){$("#message").parent().addClass("has-error");$("#message").focus();c=false}else{$("#message").parent().removeClass("has-error")}if(c){var d=$("#contact-form").serialize();var a=Ladda.create(this);a.start();$.ajax({url:"contact/contactus",method:"POST",data:d,dataType:"json",success:function(f,g,e){a.stop();if(f.ErrorCode==0&&f.success=="success"){$(".contact-response").removeClass("text-danger").addClass("text-success").html(f.message);$("#contact-form")[0].reset()}else{$(".contact-response").removeClass("text-success").addClass("text-danger").html(f.message)}},error:function(f,g,e){a.stop();$(".contact-response").removeClass("text-success").addClass("text-danger").html(data.message)}})}return c});$(".post-review").click(function(c){c.preventDefault();if($(".review-text").val().trim().length==0||$(".review-text").val().length>5000||$(".review-text").val().trim().split(" ").length<10){$(".review-text").parent().addClass("has-error");$(".review-text").focus();showMessage("Review should be between 0 to 5000 characters and more than 10 words.","danger");return}else{var b=Ladda.create(this);b.start();var a=$("#post-review").serialize();$.ajax({url:"post/message",method:"POST",data:a,dataType:"json",success:function(e,f,d){b.stop();if(e.ErrorCode==0&&e.success=="success"){$(".close").trigger("click")showMessage(data.message,'success')}else{$(".review-response").addClass("text-danger").html(e.message)}},error:function(e,f,d){b.stop();$(".review-response").addClass("text-danger").html(e)}})}});$(".forgot-pass").click(function(c){c.preventDefault();if($("#inputEmail3").val().trim().length==0){$("#inputEmail3").parent().addClass("has-error");$("#inputEmail3").focus();return}else{var b=Ladda.create(this);b.start();var a={email:$("#inputEmail3").val()};$.ajax({url:"index/forgot",method:"POST",data:a,dataType:"json",success:function(e,f,d){b.stop();if(e.ErrorCode==0&&e.success=="success"){$(".forgot-response").addClass("text-success").html(e.message);$("#inputEmail3").val("");$("#inputEmail3").parent().removeClass("has-error");$(".forgot-response").html()}else{$(".forgot-response").addClass("text-danger").html(e.message)}},error:function(e,f,d){b.stop();$(".forgot-response").addClass("text-danger").html(e)}})}});$(".fav").click(function(d){d.preventDefault();var c=$(this);var a={subcat:$(this).data("subcategory"),counter:$(".fav_counter"+$(this).data("subcategory")).text()};var b=Ladda.create(this);b.start();$.ajax({url:"review/favorite",method:"POST",data:a,dataType:"json",success:function(f,g,e){if(f.ErrorCode==0&&f.success=="success"){b.stop();c.removeClass("fav");c.attr("title","favorited");c.attr("disabled","disabled");$(".fav_counter"+a.subcat).html(parseInt(a.counter)+1);showMessage(f.message,"success")}else{b.stop();$(".fav_counter"+a.subcat).html(parseInt(a.counter));showMessage(f.message,"danger")}},error:function(f,g,e){b.stop();$(".fav_counter"+a.subcat).html(a.counter);showMessage(data.message,"danger")}})});$(".send-email").click(function(d){d.preventDefault();var c=$(this);var a={email:$("#missing-email").val()};if(a.email){var b=Ladda.create(this);b.start();$.ajax({url:"index/saveemail",method:"POST",data:a,dataType:"json",success:function(f,g,e){if(f.ErrorCode==0&&f.success=="success"){b.stop();$("#missingEmailModal").val("");$("#missingEmailModal").modal("hide");showMessage(f.message,"success")}else{b.stop();$(".missing-email-response").addClass("text-danger").html(f.message)}},error:function(f,g,e){b.stop();$(".missing-email-response").addClass("text-danger").html(data.message)}})}else{$("#missing-email").focus()}});$("#login-form").submit(function(a){if($("#login-email").val().length==0){a.preventDefault();$("#login-email").parent().addClass("has-error");$("#login-email").focus();return}else{if($("#login-pass").val().length==0){a.preventDefault();$("#login-email").parent().removeClass("has-error");$("#login-pass").parent().addClass("has-error");$("#login-pass").focus();return}}});$(".close-review").on("hide.bs.modal",function(){$("#review").val("");$(".review-response").removeClass("text-danger").empty();$(".review-text").parent().removeClass("has-error");$(".char-counter").removeClass("text-danger").addClass("text-info").html("Characters Left : 5000")});$(".review-text").keyup(function(){var b=$(this).val().length;var a=5000-b;$(".char-counter").html("Characters Left : "+a);if(a<=0){$(".char-counter").removeClass("text-info").addClass("text-danger")}else{$(".char-counter").removeClass("text-danger").addClass("text-info")}});$("#registration").submit(function(){$("fieldset.slick-cloned").remove()});$(document).on("click",".awesome",function(b){var e=false;var f=$(this).attr("data-value");if(!f){return e}var d=parseInt($(".a_"+parseInt(f)+"_count").text());var a=Ladda.create(this);a.start();var c={type:"awesome",review:f};$.ajax({url:"review/state",method:"POST",data:c,dataType:"json",success:function(h,i,g){a.stop();(h.ErrorCode==0&&h.success=="success")?$(".a_"+parseInt(f)+"_count").empty().text(++d):"";if(h.ErrorCode==0){showMessage(h.message,"success")}else{showMessage(h.message,"danger")}},error:function(h,i,g){a.stop()}})});$(document).on("click",".bad",function(b){var e=false;var f=$(this).attr("data-value");if(!f){return e}var d=parseInt($(".b_"+f+"_count").text());var a=Ladda.create(this);a.start();var c={type:"bad",review:f};$.ajax({url:"review/state",method:"POST",data:c,dataType:"json",success:function(h,i,g){a.stop();(h.ErrorCode==0&&h.success=="success")?$(".b_"+parseInt(f)+"_count").text(++d):"";if(h.ErrorCode==0){showMessage(h.message,"success")}else{showMessage(h.message,"danger")}},error:function(h,i,g){a.stop()}})})});$(document).on("click",".cool",function(b){var e=false;var f=$(this).attr("data-value");if(!f){return e}var d=parseInt($(".c_"+f+"_count").text());var a=Ladda.create(this);a.start();var c={type:"cool",review:f};$.ajax({url:"review/state",method:"POST",data:c,dataType:"json",success:function(h,i,g){a.stop();(h.ErrorCode==0&&h.success=="success")?$(".c_"+parseInt(f)+"_count").text(++d):"";if(h.ErrorCode==0){showMessage(h.message,"success")}else{showMessage(h.message,"danger")}},error:function(h,i,g){a.stop()}})});function showMessage(b,a){$('div[data-notify="container"]').hide();$.notify({icon:"glyphicon glyphicon-star",message:b},{placement:{align:"center"},delay:2000,type:a,animate:{enter:"animated rollIn",exit:"animated rollOut"}});$('div[data-notify="container"]').css("top",20)}function submitResetPassForm(){var b=document.forms.resetpass_form;var a=$("#resetpass_form input[name='newpassword']").val();var c=$("#resetpass_form input[name='confirm']").val();if(a.length==0||a.length<=6){showMessage("Password must be at least seven characters long..","danger")}else{if(c.trim().length==0||c.trim().length<=6){showMessage("Confirm Password must be at least seven characters long..","danger")}else{if(c!==a){showMessage("Your password and confirm password not matched..","danger")}else{b.submit();return true}}}return false}function setCookie(c,e,a){if(!a){a=24}var f=new Date();f.setTime(f.getTime()+(a*24*60*60*1000));var b="expires="+f.toUTCString();document.cookie=c+"="+e+";"+b+";;path=/"}function deleteCookie(b){var c=new Date();c.setTime(c.getTime()-(1*24*60*60*1000));var a="expires="+c.toUTCString();document.cookie=b+"="+b+";"+a+";;path=/"}function dobValidate(){var g=new Date();var l=g.getFullYear();var d=g.getMonth()+1;var i=g.getDate();var h=document.getElementById("bday").value;if(h==""||!h){return true}var m=new Date(h);var e=m.getFullYear();var f=m.getMonth()+1;var k=m.getDate();var j=l-e;var a=d-f;var c=i-k;if(j>100){showMessage("Age cannot be more than 100 Years.Please enter correct age","danger");return false}if(a<0||(a==0&&c<0)){j=parseInt(j)-1}if((j==13&&a<=0&&c<=0)||j<13){showMessage("Age should be more than 13 years.Please enter a valid Date of Birth","danger");return false}return true}function urlValidate(a){if(!a||a.length==0){return true}var b=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;return b.test(a)}function numberValidate(b){if(!b||b.length==0){return true}var a=/^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/;if(b.match(a)){return true}else{return false}};
